# baseURI: http://server.topbraidlive.org/tblui
# imports: http://topbraid.org/swa
# prefix: tblui

@prefix adminguide: <http://server.topbraidlive.org/doc/adminguide#> .
@prefix afn: <http://jena.hpl.hp.com/ARQ/function#> .
@prefix arg: <http://spinrdf.org/arg#> .
@prefix cfg: <http://server.topbraidlive.org/web/2009/config#> .
@prefix charts: <http://uispin.org/charts#> .
@prefix composite: <http://www.topbraid.org/2007/05/composite.owl#> .
@prefix crosswalkprojects: <http://teamwork.topbraidlive.org/crosswalkprojects#> .
@prefix css: <http://uispin.org/css#> .
@prefix daml: <http://www.daml.org/2001/03/daml+oil#> .
@prefix dash: <http://datashapes.org/dash#> .
@prefix datatype: <http://qudt.org/vocab/datatype/> .
@prefix dc: <http://purl.org/dc/elements/1.1/> .
@prefix dcam: <http://purl.org/dc/dcam/> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix default: <http://uispin.org/default#> .
@prefix dtype: <http://www.linkedmodel.org/schema/dtype#> .
@prefix edg: <http://edg.topbraid.solutions/model/> .
@prefix edg.glossary: <http://edg.topbraid.solutions/glossary/> .
@prefix edg.sqoop: <http://edg.topbraid.solutions/model/sqoop/> .
@prefix edg.v: <http://edg.topbraid.solutions/view/> .
@prefix email: <http://topbraid.org/email#> .
@prefix fn: <http://www.w3.org/2005/xpath-functions#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix geo: <http://www.w3.org/2003/01/geo/wgs84_pos#> .
@prefix graphql: <http://datashapes.org/graphql#> .
@prefix html: <http://uispin.org/html#> .
@prefix imported: <http://topbraid.org/imported#> .
@prefix json: <http://topbraid.org/json#> .
@prefix let: <http://uispin.org/let#> .
@prefix letrs: <http://uispin.org/letrs#> .
@prefix list: <http://jena.hpl.hp.com/ARQ/list#> .
@prefix metadata: <http://topbraid.org/metadata#> .
@prefix ontologyprojects: <http://teamwork.topbraidlive.org/ontologyprojects#> .
@prefix org: <http://www.w3.org/ns/org#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix provo: <http://www.w3.org/ns/prov#> .
@prefix quantity: <http://qudt.org/vocab/quantity/> .
@prefix qudt: <http://qudt.org/schema/qudt/> .
@prefix qudt-refdata: <http://qudt.org/vocab/refdata/> .
@prefix qudt.type: <http://qudt.org/vocab/type/> .
@prefix raci: <http://topbraid.org/raci#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rdm: <http://rdm.topbraidlive.org/rdm/> .
@prefix rdmfact: <http://topbraid.org/rdmfact#> .
@prefix rdmprojects: <http://rdm.topbraidlive.org/rdmprojects#> .
@prefix sd: <http://www.w3.org/ns/sparql-service-description#> .
@prefix search: <http://topbraid.org/search#> .
@prefix search.spin: <http://topbraid.org/search.spin#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix sioc: <http://rdfs.org/sioc/ns#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix skosapp: <http://evn.topbraidlive.org/uiplugins#> .
@prefix skostemplate: <http://topbraid.org/spin/skostemplates#> .
@prefix skosxl: <http://www.w3.org/2008/05/skos-xl#> .
@prefix sm: <http://topbraid.org/sparqlmotion#> .
@prefix smf: <http://topbraid.org/sparqlmotionfunctions#> .
@prefix sml: <http://topbraid.org/sparqlmotionlib#> .
@prefix softwareprojects: <http://teamwork.topbraidlive.org/software/softwareprojects#> .
@prefix solr: <http://topbraid.org/solr#> .
@prefix sp: <http://spinrdf.org/sp#> .
@prefix sparqlmotionlib-swp: <http://topbraid.org/sparqlmotionlib-swp#> .
@prefix sparqlmotionlib-tbc: <http://topbraid.org/sparqlmotionlib-tbc#> .
@prefix spell: <http://topbraid.org/spellcheckresults#> .
@prefix spif: <http://spinrdf.org/spif#> .
@prefix spin: <http://spinrdf.org/spin#> .
@prefix spl: <http://spinrdf.org/spl#> .
@prefix spl-dynamic-ranges: <http://spinrdf.org/spl-dynamic-ranges#> .
@prefix spr: <http://spinrdf.org/spr#> .
@prefix spra: <http://spinrdf.org/spra#> .
@prefix style: <http://uispin.org/style#> .
@prefix svg: <http://uispin.org/svg#> .
@prefix swa: <http://topbraid.org/swa#> .
@prefix swaclasses: <http://topbraid.org/swaclasses#> .
@prefix swaeditor: <http://topbraid.org/swaeditor#> .
@prefix swaowl: <http://topbraid.org/swaowl#> .
@prefix swashacl: <http://topbraid.org/swashacl#> .
@prefix swauml: <http://topbraid.org/swauml#> .
@prefix swon: <http://uispin.org/swon#> .
@prefix sxml: <http://topbraid.org/sxml#> .
@prefix tables: <http://topbraid.org/tables#> .
@prefix taggerprojects: <http://evn.topbraidlive.org/taggerprojects#> .
@prefix task: <http://topbraid.org/task#> .
@prefix tasks: <http://topbraid.org/tasks#> .
@prefix taxonomies: <http://evn.topbraidlive.org/evnprojects#> .
@prefix tbl: <http://topbraidlive.org/functions#> .
@prefix tblui: <http://server.topbraidlive.org/tblui#> .
@prefix teamwork: <http://topbraid.org/teamwork#> .
@prefix tops: <http://www.topbraid.org/tops#> .
@prefix tosh: <http://topbraid.org/tosh#> .
@prefix tosh.ui: <http://topbraid.org/tosh.ui#> .
@prefix ui: <http://uispin.org/ui#> .
@prefix uix: <http://topbraidlive.org/uix#> .
@prefix unit: <http://qudt.org/vocab/unit/> .
@prefix vaem: <http://www.linkedmodel.org/schema/vaem#> .
@prefix voag: <http://voag.linkedmodel.org/voag/> .
@prefix vs: <http://www.w3.org/2003/06/sw-vocab-status/ns#> .
@prefix wot: <http://xmlns.com/wot/0.1/> .
@prefix xlink: <http://www.w3.org/1999/xlink#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

<http://server.topbraidlive.org/tblui>
  rdf:type owl:Ontology ;
  owl:imports <http://topbraid.org/swa> ;
  owl:versionInfo "Created with TopBraid Composer" ;
.
tblui:Elements
  rdf:type ui:ViewElement ;
  ui:headIncludes """
<ui:group>
    <script src=\"{= ui:lib() }/server/build/server.bundle.js\"/>
</ui:group>
"""^^ui:Literal ;
  rdfs:subClassOf swa:Elements ;
.
tblui:FormSection
  rdf:type ui:NodeClass ;
  spin:constraint [
      rdf:type spl:Argument ;
      spl:optional "true"^^xsd:boolean ;
      spl:predicate arg:class ;
      spl:valueType xsd:string ;
      rdfs:comment "Additional CSS class(es) for the <section> element." ;
    ] ;
  spin:constraint [
      rdf:type spl:Argument ;
      spl:optional "true"^^xsd:boolean ;
      spl:predicate arg:label ;
      spl:valueType xsd:string ;
      rdfs:comment "The section title." ;
    ] ;
  ui:prototype """
<section class=\"tblui-section {= ?class }\">
    <ui:if ui:condition=\"{= bound(?label) }\">
        <h2>{= ?label }</h2>
    </ui:if>
    <ui:insertionPoint ui:pointId=\"form\"/>
</section>
"""^^ui:Literal ;
  rdfs:comment "A page section intended to hold an swa:SwitchableForm." ;
  rdfs:label "Form section" ;
  rdfs:subClassOf tblui:Elements ;
.
tblui:PageContainer
  rdf:type ui:NodeClass ;
  spin:constraint [
      rdf:type spl:Argument ;
      spl:defaultValue "false"^^xsd:boolean ;
      spl:optional "true"^^xsd:boolean ;
      spl:predicate arg:isHome ;
      spl:valueType xsd:boolean ;
      rdfs:comment "If true, uses the Server Administration home page page header." ;
    ] ;
  spin:constraint [
      rdf:type spl:Argument ;
      spl:optional "true"^^xsd:boolean ;
      spl:predicate arg:class ;
      spl:valueType xsd:string ;
      rdfs:comment "CSS class to add to the main element." ;
    ] ;
  spin:constraint [
      rdf:type spl:Argument ;
      spl:optional "true"^^xsd:boolean ;
      spl:predicate arg:message ;
      spl:valueType xsd:string ;
      rdfs:comment "A message for the user to show near the top of the page." ;
    ] ;
  spin:constraint [
      rdf:type spl:Argument ;
      spl:optional "true"^^xsd:boolean ;
      spl:predicate arg:messageClass ;
      spl:valueType xsd:string ;
      rdfs:comment "Optionally colors the message. Possible values are \"primary\", \"info\", \"success\", \"warning\", \"danger\"" ;
    ] ;
  spin:constraint [
      rdf:type spl:Argument ;
      spl:optional "true"^^xsd:boolean ;
      spl:predicate arg:messageStackTrace ;
      spl:valueType xsd:string ;
      rdfs:comment "Optional stack trace to accompany the message. Initially hidden, revealed by a button." ;
    ] ;
  spin:constraint [
      rdf:type spl:Argument ;
      spl:predicate arg:title ;
      spl:valueType xsd:string ;
      rdfs:comment "The title of the page, to show up in the heade area." ;
    ] ;
  ui:prototype """
<ui:group>
    <header class=\"{= IF(swa:falseOrUnbound(?isHome), ?empty, &quot;home&quot;) } {= ?class }\">
        <div class=\"logo\">
            <ui:if ui:condition=\"{= uix:isTBC() }\">
                <a href=\".\">
                    <img alt=\"TopBraid Suite Console\" height=\"50\" src=\"{= ui:lib() }/server/build/images/TB_suite_console.png\"/>
                </a>
            </ui:if>
            <ui:elseif ui:condition=\"{= uix:isEDG() }\">
                <a href=\"../edg\">
                    <img alt=\"TopBraid Enterprise Data Governance\" height=\"50\" src=\"{= ui:lib() }/server/build/images/EDG-Logo.png\"/>
                </a>
            </ui:elseif>
            <ui:else>
                <a href=\".\">
                    <img alt=\"TopBraid Live Console\" height=\"50\" src=\"{= ui:lib() }/server/build/images/TBL_logo.png\"/>
                </a>
            </ui:else>
        </div>
        <ui:if ui:condition=\"{= swa:falseOrUnbound(?isHome) &amp;&amp; uix:isAdmin() }\">
            <div class=\"admin-link\">
                <a href=\"admin\">
                    <i class=\"fa fa-wrench\" title=\"Server Administration\"/>
                </a>
            </div>
        </ui:if>
        <h1>
            <ui:if ui:condition=\"{= !swa:falseOrUnbound(?isHome) }\">
                <i class=\"fa fa-wrench\"/>
                <swa:Space/>
            </ui:if>
            <ui:group>{= ?title }</ui:group>
        </h1>
        <div class=\"username\" let:userName=\"{= smf:currentUserName() }\">
            <ui:if ui:condition=\"{= !bound(?userName) }\">
                <a href=\"pages/userName\">login</a>
            </ui:if>
            <ui:else>
                <i class=\"fa fa-user\"/>
                <swa:Space/>
                <a href=\"pages/userName\">{= ?userName }</a>
                <ui:if ui:condition=\"{= uix:hasBasicAuth() }\">
                    <swa:Space/>
                    <a id=\"basic-auth-logout\">(logout)</a>
                </ui:if>
                <ui:else>
                    <swa:Space/>
                    <a href=\"purgeuser\">(logout)</a>
                </ui:else>
            </ui:else>
        </div>
    </header>
    <main class=\"{= ?class }\">
        <ui:if ui:condition=\"{= !swa:falseOrUnbound(?message) }\">
            <section class=\"{= IF(swa:falseOrUnbound(?messageClass), &quot;&quot;, CONCAT(&quot;bg-&quot;, ?messageClass, &quot; text-&quot;, ?messageClass)) } tblui-section\">
                <div>
                    <button aria-label=\"Close\" class=\"close dismiss-message\" type=\"button\">
                        <span aria-hidden=\"true\">&times;</span>
                    </button>
                    <strong>{= ?message }</strong>
                    <ui:if ui:condition=\"{= !swa:falseOrUnbound(?messageStackTrace) }\">
                        <a class=\"toggle-message-details small text-muted\">(Details)</a>
                        <a class=\"toggle-message-details small text-muted hidden\">(Hide)</a>
                        <pre class=\"small hidden message-details\">{= ?messageStackTrace }</pre>
                    </ui:if>
                </div>
            </section>
        </ui:if>
        <ui:insertionPoint ui:pointId=\"body\"/>
    </main>
    <footer class=\"{= ?class }\">
        <span class=\"copyright\">&copy; 2009-2019 TopQuadrant, Inc. All Rights Reserved</span>
        <span class=\"version\">Version: {= uix:getTBVersion() }</span>
        <ui:if ui:condition=\"{= uix:isAdmin() }\">
            <span class=\"send-log\">
                <a href=\"pages/sendErrorLog\">Send Error Log to TQ</a>
            </span>
            <span class=\"support\">
                <a href=\"pages/supportInfo\">Support</a>
            </span>
        </ui:if>
    </footer>
</ui:group>
"""^^ui:Literal ;
  rdfs:comment "A page in the TBL UI page style, with header and footer navigation. Intended to hold one or more tblui:Section or tblui:FormSection children, which then hold the actual page content. Can show a message at the top of the page indicating success or failure of a previous operation." ;
  rdfs:label "Admin page container" ;
  rdfs:subClassOf tblui:Elements ;
.
tblui:Section
  rdf:type ui:NodeClass ;
  spin:constraint [
      rdf:type spl:Argument ;
      spl:optional "true"^^xsd:boolean ;
      spl:predicate arg:class ;
      spl:valueType xsd:string ;
      rdfs:comment "Additional CSS class(es) for the <section> element." ;
    ] ;
  spin:constraint [
      rdf:type spl:Argument ;
      spl:optional "true"^^xsd:boolean ;
      spl:predicate arg:label ;
      spl:valueType xsd:string ;
      rdfs:comment "The section title." ;
    ] ;
  ui:prototype """
<section class=\"tblui-section {= ?class }\">
    <ui:if ui:condition=\"{= bound(?label) }\">
        <h2>{= ?label }</h2>
    </ui:if>
    <div class=\"content\">
        <ui:insertionPoint ui:pointId=\"content\"/>
    </div>
</section>
"""^^ui:Literal ;
  rdfs:comment "A page section with an optional title." ;
  rdfs:label "Section" ;
  rdfs:subClassOf tblui:Elements ;
.
