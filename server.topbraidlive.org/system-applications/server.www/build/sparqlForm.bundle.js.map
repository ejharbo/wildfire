{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/interopRequireWildcard.js","webpack:///./uiassets/server/indexSparqlForm.js","webpack:///./uiassets/server/js/sparqlFormApplication.js","webpack:///./uiassets/server/js/components/endpoint.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","obj","newObj","desc","getOwnPropertyDescriptor","set","sparqlFormApplication","_interopRequireWildcard","$","click","event","yasqe","setValue","empty","localStorage","removeItem","query","change","options","sparql","defaultGraphs","this","push","include_imports","args","find","item","index","indexOf","splice","checked","last","document","URL","lastIndexOf","queryValue","val","checkSPARQLURL","substring","datatosend","getQueryResults","with_imports","prop","default_graph_uri","format","default-graph-uri","with-imports","html","tableHTML","ajax","type","url","data","success","text","each","head","vars","heading","results","bindings","v","append","encodeURIComponent","window","open","status","jqXHR","queryType","update","alert","error","errorMsgTxt","getResponseHeader","responseJSON","parseError","async"],"mappings":"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","file":"sparqlForm.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"lib/server/build/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 16);\n","function _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj[\"default\"] = obj;\n    return newObj;\n  }\n}\n\nmodule.exports = _interopRequireWildcard;","/*eslint no-console: [\"error\", { allow: [\"warn\", \"error\", \"log\"] }] */\nimport * as sparqlFormApplication from './js/sparqlFormApplication.js';\n\nmodule.exports = sparqlFormApplication;\n","/*eslint no-console: [\"error\", { allow: [\"warn\", \"error\", \"log\"] }] */\nimport './components/endpoint';\n","$(function() {\n    $('.sparql-endpoint-page #clear-query').click(function(event) {\n        //var queryArea = $(\"textarea#query-area\");\n        yasqe.setValue('');\n    });\n\n    $('.sparql-endpoint-page #clear-results').click(function(event) {\n        $('.yasr_results').empty();\n        localStorage.removeItem('yasr_results-content_results');\n    });\n\n    $('.sparql-endpoint-page #submit-query').click(function(event) {\n        yasqe.query();\n    });\n\n    $('.sparql-endpoint-page #default_graph_uri').change(function(event) {\n        yasqe.options.sparql.defaultGraphs = [];\n        if (this.value != '') {\n            yasqe.options.sparql.defaultGraphs.push(this.value);\n        }\n    });\n\n    $('.sparql-endpoint-page #include-imports').change(function(event) {\n        var include_imports = yasqe.options.sparql.args.find(function(item) {\n            return item.name == 'with-imports';\n        });\n        if (include_imports) {\n            var index = yasqe.options.sparql.args.indexOf(include_imports);\n            yasqe.options.sparql.args.splice(index, 1);\n        }\n        if (this.checked) {\n            yasqe.options.sparql.args.push({ name: 'with-imports', value: this.checked });\n        }\n    });\n\n    $('.sparql-endpoint-page #submit-button').click(function() {\n        //chop off the part starting from the servlet name\n        var last = document.URL.lastIndexOf('/');\n        var queryValue = $('.sparql-endpoint-page textarea#query-area').val();\n        var checkSPARQLURL = document.URL.substring(0, last) + '/checksparql';\n        var datatosend = { query: queryValue };\n        var URL = document.URL.substring(0, last) + '/sparql';\n\n        //send the requeust to the check SPARQL Servlet first\n        $.ajax({\n            type: 'POST',\n            url: checkSPARQLURL,\n            data: datatosend,\n            success: function(data, status, jqXHR) {\n                //check if query type update and post to corresponding servlet\n                if (data.queryType == 'UPDATE') {\n                    //call update servlet\n                    var queryValue = $('.sparql-endpoint-page textarea#query-area').val();\n                    datatosend = { update: queryValue };\n                    $.ajax({\n                        type: 'POST',\n                        url: URL,\n                        data: datatosend,\n                        success: function(text) {\n                            alert('Update Applied');\n                        },\n                        error: function(data, status, jqXHR) {\n                            var errorMsgTxt;\n                            if (data.getResponseHeader('badRequest')) {\n                                errorMsgTxt = data.getResponseHeader('badRequest');\n                            } else if (data.getResponseHeader('updatesDisabled')) {\n                                errorMsgTxt = data.getResponseHeader('updatesDisabled');\n                            }\n                            $('.sparql-endpoint-page #results-content').text(errorMsgTxt);\n                        },\n                    });\n                } else {\n                    getQueryResults(URL);\n                }\n            },\n            error: function(data, status, jqXHR) {\n                $('.sparql-endpoint-page #results-content').text(data.responseJSON.parseError);\n            },\n            async: false,\n        });\n\n        function getQueryResults(URL) {\n            var with_imports = $('.sparql-endpoint-page #include-imports').prop('checked') ? true : false;\n            var default_graph_uri = $('.sparql-endpoint-page #default_graph_uri').val();\n            var format = $('.sparql-endpoint-page #format').val();\n            var datatosend = {\n                query: queryValue,\n                'default-graph-uri': default_graph_uri,\n                format: format,\n                'with-imports': with_imports,\n            };\n\n            if (format == 'json') {\n                $('.sparql-endpoint-page #results-content').html('');\n\n                var tableHTML = \"<table border='1'><tr>\";\n                $.ajax({\n                    type: 'POST',\n                    url: URL,\n                    data: datatosend,\n                    success: function(text) {\n                        $.each(text.head.vars, function(i, heading) {\n                            tableHTML += '<th>' + heading + '</th>';\n                        });\n\n                        tableHTML += '</tr>';\n                        $.each(text.results.bindings, function(i, val) {\n                            tableHTML += '<tr>';\n                            $.each(text.head.vars, function(i, heading) {\n                                var v = val[heading];\n                                tableHTML += '<td>' + (v ? v.value : '') + '</td>';\n                            });\n                            tableHTML += '</tr>';\n                        });\n\n                        tableHTML += '</table>';\n                        $('.sparql-endpoint-page #results-content').append(tableHTML);\n                    },\n                });\n                return false;\n            } else {\n                datatosend =\n                    '?query=' +\n                    encodeURIComponent(queryValue) +\n                    '&default-graph-uri=' +\n                    encodeURIComponent(default_graph_uri) +\n                    '&format=' +\n                    encodeURIComponent(format);\n                if (with_imports) {\n                    datatosend += '&with-imports=true';\n                }\n                window.open(URL + datatosend, '_blank');\n            }\n        }\n    });\n});\n"],"sourceRoot":""}